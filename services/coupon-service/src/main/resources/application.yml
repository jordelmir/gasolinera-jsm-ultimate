server:
  port: 8086

spring:
  application:
    name: coupon-service
  datasource:
    url: jdbc:postgresql://${POSTGRES_HOST:localhost}:${POSTGRES_PORT:5432}/${POSTGRES_DB:puntog}
    username: ${POSTGRES_USER:puntog}
    password: ${POSTGRES_PASSWORD:changeme}
  jpa:
    hibernate:
      ddl-auto: validate
  redis:
    host: ${REDIS_HOST:localhost}
  rabbitmq:
    host: ${RABBITMQ_HOST:localhost}
    port: ${RABBITMQ_PORT:5672}
    username: ${RABBITMQ_USER:guest}
    password: ${RABBITMQ_PASSWORD:guest}

app:
  jwt:
    secret: ${JWT_SECRET}
  qr:
    expiration-minutes: ${QR_EXPIRATION_MINUTES:15}
  coupon:
    expiration-hours: ${COUPON_EXPIRATION_HOURS:24}
    max-tickets-per-coupon: ${MAX_TICKETS_PER_COUPON:10}
    qr-signature-secret: ${QR_SIGNATURE_SECRET:default-secret-change-in-production}

management:
  endpoints:
    web:
      exposure:
        include: health,info,metrics,prometheus
  tracing:
    sampling:
      probability: 1.0
  otlp:
    tracing:
      endpoint: http://jaeger:4318/v1/traces
